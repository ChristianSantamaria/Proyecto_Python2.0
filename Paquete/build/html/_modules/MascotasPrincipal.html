
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="ES">
  <head>
        <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>MascotasPrincipal &#8212; documentación de Mascotas - DI</title>
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Índice" href="../genindex.html" />
    <link rel="search" title="Búsqueda" href="../search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Índice General"
             accesskey="I">índice</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Índice de Módulos Python"
             >módulos</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">documentación de Mascotas - DI</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Código de módulo</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Código fuente para MascotasPrincipal</h1><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">tkinter.messagebox</span> <span class="k">import</span> <span class="n">askyesno</span><span class="p">,</span> <span class="n">showinfo</span>
<span class="kn">from</span> <span class="nn">reportlab.platypus</span> <span class="k">import</span> <span class="n">Paragraph</span>
<span class="kn">from</span> <span class="nn">reportlab.platypus</span> <span class="k">import</span> <span class="n">Image</span>
<span class="kn">from</span> <span class="nn">reportlab.platypus</span> <span class="k">import</span> <span class="n">SimpleDocTemplate</span>
<span class="kn">from</span> <span class="nn">reportlab.platypus</span> <span class="k">import</span> <span class="n">Spacer</span>
<span class="kn">from</span> <span class="nn">reportlab.lib.styles</span> <span class="k">import</span> <span class="n">getSampleStyleSheet</span>
<span class="kn">from</span> <span class="nn">reportlab.lib.pagesizes</span> <span class="k">import</span> <span class="n">A4</span>
<span class="kn">from</span> <span class="nn">reportlab.lib</span> <span class="k">import</span> <span class="n">colors</span>
<span class="kn">from</span> <span class="nn">reportlab.platypus</span> <span class="k">import</span> <span class="n">Table</span>
<span class="kn">from</span> <span class="nn">reportlab.platypus</span> <span class="k">import</span> <span class="n">Spacer</span>
<span class="kn">from</span> <span class="nn">reportlab.platypus</span> <span class="k">import</span> <span class="n">SimpleDocTemplate</span>
<span class="kn">from</span> <span class="nn">reportlab.lib.pagesizes</span> <span class="k">import</span> <span class="n">A4</span>
<span class="kn">from</span> <span class="nn">reportlab.lib</span> <span class="k">import</span> <span class="n">colors</span>
<span class="kn">from</span> <span class="nn">tkinter</span> <span class="k">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">PIL</span> <span class="k">import</span> <span class="n">Image</span>


<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">gi</span>
<span class="kn">import</span> <span class="nn">sqlite3</span> <span class="k">as</span> <span class="nn">dbapi</span>

<span class="n">gi</span><span class="o">.</span><span class="n">require_version</span><span class="p">(</span><span class="s1">&#39;Gtk&#39;</span><span class="p">,</span> <span class="s1">&#39;3.0&#39;</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">gi.repository</span> <span class="k">import</span> <span class="n">Gtk</span><span class="p">,</span> <span class="n">Gdk</span>
<span class="kn">from</span> <span class="nn">easygui</span> <span class="k">import</span> <span class="o">*</span>

<span class="c1">## sudo apt-get install python3-tk</span>

<div class="viewcode-block" id="MascotasPrincipal"><a class="viewcode-back" href="../Codigo.html#MascotasPrincipal.MascotasPrincipal">[documentos]</a><span class="k">class</span> <span class="nc">MascotasPrincipal</span><span class="p">(</span><span class="n">Gtk</span><span class="o">.</span><span class="n">Window</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Pestaña principal</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">Gtk</span><span class="o">.</span><span class="n">Window</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Principal&quot;</span><span class="p">)</span>

        <span class="c1"># Declaracion de la caja principal</span>
        <span class="n">caixaventana</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Box</span><span class="p">(</span><span class="n">spacing</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">caixaventana</span><span class="o">.</span><span class="n">set_orientation</span><span class="p">(</span><span class="n">Gtk</span><span class="o">.</span><span class="n">Orientation</span><span class="o">.</span><span class="n">VERTICAL</span><span class="p">)</span>
        <span class="n">caixaventana</span><span class="o">.</span><span class="n">set_margin_left</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">caixaventana</span><span class="o">.</span><span class="n">set_margin_right</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">caixaventana</span><span class="o">.</span><span class="n">set_size_request</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">150</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">caixaventana</span><span class="p">)</span>

        <span class="c1"># Declaracion de la caja Superior</span>
        <span class="n">caixaSuperior</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Box</span><span class="p">()</span>
        <span class="n">caixaventana</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">caixaSuperior</span><span class="p">)</span>
        <span class="n">caixaSuperior</span><span class="o">.</span><span class="n">set_margin_bottom</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>

        <span class="c1"># Declaracion de la caja Inferior</span>
        <span class="n">caixaInferior</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Box</span><span class="p">(</span><span class="n">spacing</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
        <span class="n">caixaInferior</span><span class="o">.</span><span class="n">set_orientation</span><span class="p">(</span><span class="n">Gtk</span><span class="o">.</span><span class="n">Orientation</span><span class="o">.</span><span class="n">HORIZONTAL</span><span class="p">)</span>
        <span class="n">caixaInferior</span><span class="o">.</span><span class="n">set_size_request</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">150</span><span class="p">)</span>

        <span class="n">caixaventana</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">caixaInferior</span><span class="p">)</span>

        <span class="c1"># Declaracion de las cajas separadoras dere e izq</span>
        <span class="n">caixaInferiorDere</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Box</span><span class="p">(</span><span class="n">spacing</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
        <span class="n">caixaInferiorDere</span><span class="o">.</span><span class="n">set_orientation</span><span class="p">(</span><span class="n">Gtk</span><span class="o">.</span><span class="n">Orientation</span><span class="o">.</span><span class="n">VERTICAL</span><span class="p">)</span>
        <span class="n">caixaInferiorDere</span><span class="o">.</span><span class="n">set_size_request</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">75</span><span class="p">)</span>

        <span class="n">caixaInferiorIzq</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Box</span><span class="p">(</span><span class="n">spacing</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
        <span class="n">caixaInferiorIzq</span><span class="o">.</span><span class="n">set_orientation</span><span class="p">(</span><span class="n">Gtk</span><span class="o">.</span><span class="n">Orientation</span><span class="o">.</span><span class="n">VERTICAL</span><span class="p">)</span>
        <span class="n">caixaInferiorIzq</span><span class="o">.</span><span class="n">set_size_request</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">75</span><span class="p">)</span>

        <span class="n">botonMascotas</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="s2">&quot;                                                                 Gestión de mascotas                                                                 &quot;</span><span class="p">)</span>
        <span class="n">botonClientes</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="s2">&quot;                                                                 Gestión de clientes                                                                 &quot;</span><span class="p">)</span>
        <span class="n">botonListado</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="s2">&quot;                                                                 Listado                                                                 &quot;</span><span class="p">)</span>
        <span class="n">botonSalir</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="s2">&quot;                                                                 Salir                                                                 &quot;</span><span class="p">)</span>


        <span class="c1"># Declaracion de los botones</span>
        <span class="n">caixaInferiorDere</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">botonClientes</span><span class="p">)</span>
        <span class="n">caixaInferiorIzq</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">botonMascotas</span><span class="p">)</span>
        <span class="n">caixaInferiorDere</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">botonListado</span><span class="p">)</span>
        <span class="n">caixaInferiorIzq</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">botonSalir</span><span class="p">)</span>

        <span class="n">caixaInferior</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">caixaInferiorDere</span><span class="p">)</span>
        <span class="n">caixaInferior</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">caixaInferiorIzq</span><span class="p">)</span>

        <span class="c1"># Eventos de los botones</span>
        <span class="n">botonMascotas</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;clicked&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_boton_mascotas</span><span class="p">)</span>
        <span class="n">botonListado</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;clicked&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_boton_listado</span><span class="p">)</span>
        <span class="n">botonClientes</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;clicked&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_boton_clientes</span><span class="p">)</span>
        <span class="n">botonSalir</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;clicked&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_boton_salir</span><span class="p">)</span>

        <span class="n">imagen</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Image</span><span class="p">()</span>
        <span class="n">imagen</span><span class="o">.</span><span class="n">set_from_file</span><span class="p">(</span><span class="s2">&quot;foto.jpg&quot;</span><span class="p">)</span>
        <span class="n">caixaventana</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">imagen</span><span class="p">)</span>

<div class="viewcode-block" id="MascotasPrincipal.on_boton_mascotas"><a class="viewcode-back" href="../Codigo.html#MascotasPrincipal.MascotasPrincipal.on_boton_mascotas">[documentos]</a>    <span class="k">def</span> <span class="nf">on_boton_mascotas</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">button</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Boton que da paso a la ventana de gestion de mascotas</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">regis</span> <span class="o">=</span> <span class="n">MascotasRegistro</span><span class="p">()</span></div>
        <span class="n">regis</span><span class="o">.</span><span class="n">show_all</span><span class="p">()</span>

<div class="viewcode-block" id="MascotasPrincipal.on_boton_clientes"><a class="viewcode-back" href="../Codigo.html#MascotasPrincipal.MascotasPrincipal.on_boton_clientes">[documentos]</a>    <span class="k">def</span> <span class="nf">on_boton_clientes</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">button</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Boton que da paso a la ventana de gestion de cliente</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">cli</span> <span class="o">=</span> <span class="n">MascotasClientes</span><span class="p">()</span></div>
        <span class="n">cli</span><span class="o">.</span><span class="n">show_all</span><span class="p">()</span>

<div class="viewcode-block" id="MascotasPrincipal.on_boton_listado"><a class="viewcode-back" href="../Codigo.html#MascotasPrincipal.MascotasPrincipal.on_boton_listado">[documentos]</a>    <span class="k">def</span> <span class="nf">on_boton_listado</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">button</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Boton que da paso a la ventana de listado</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">lista</span> <span class="o">=</span> <span class="n">MascotasListado</span><span class="p">()</span></div>
        <span class="n">lista</span><span class="o">.</span><span class="n">show_all</span><span class="p">()</span>

<div class="viewcode-block" id="MascotasPrincipal.on_boton_salir"><a class="viewcode-back" href="../Codigo.html#MascotasPrincipal.MascotasPrincipal.on_boton_salir">[documentos]</a>    <span class="k">def</span> <span class="nf">on_boton_salir</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">button</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Boton que da paso salir</span>
<span class="sd">        &quot;&quot;&quot;</span></div></div>
        <span class="n">Gtk</span><span class="o">.</span><span class="n">main_quit</span><span class="p">()</span>

<div class="viewcode-block" id="MascotasRegistro"><a class="viewcode-back" href="../Codigo.html#MascotasPrincipal.MascotasRegistro">[documentos]</a><span class="k">class</span> <span class="nc">MascotasRegistro</span><span class="p">(</span><span class="n">Gtk</span><span class="o">.</span><span class="n">Window</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Pestaña de gestion de las Mascotas</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">Gtk</span><span class="o">.</span><span class="n">Window</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Clientes&quot;</span><span class="p">)</span>

        <span class="c1"># Declaracion de la caja principal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventana</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Notebook</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventana</span><span class="o">.</span><span class="n">set_size_request</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">300</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">caixaventana</span><span class="p">)</span>

        <span class="c1">##Declaracion caja crear</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaCrear</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Box</span><span class="p">(</span><span class="n">spacing</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaCrear</span><span class="o">.</span><span class="n">set_orientation</span><span class="p">(</span><span class="n">Gtk</span><span class="o">.</span><span class="n">Orientation</span><span class="o">.</span><span class="n">VERTICAL</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">frameCrear</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Frame</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frameCrear</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">caixaCrear</span><span class="p">)</span>

        <span class="n">labelaux</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="s2">&quot;&lt;b&gt;Añadir&lt;/b&gt;&quot;</span><span class="p">)</span>
        <span class="n">labelaux</span><span class="o">.</span><span class="n">set_use_markup</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventana</span><span class="o">.</span><span class="n">append_page</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frameCrear</span><span class="p">,</span> <span class="n">labelaux</span><span class="p">)</span>

        <span class="c1">#Combo DNI</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">etiquetaDni</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="s2">&quot;Dni del cliente&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">entryDni</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">ListStore</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cargar_dni_cliente</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">country_combo</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">ComboBox</span><span class="o">.</span><span class="n">new_with_model</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entryDni</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">country_combo</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;changed&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_country_combo_changed</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">renderer_text</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">CellRendererText</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">country_combo</span><span class="o">.</span><span class="n">pack_start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">renderer_text</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">country_combo</span><span class="o">.</span><span class="n">add_attribute</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">renderer_text</span><span class="p">,</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="c1">###</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">etiquetaId</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="s2">&quot;Id&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entryId</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Entry</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">etiquetaNombre</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="s2">&quot;Nombre&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entryNombre</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Entry</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">etiquetaTipo</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="s2">&quot;Tipo de animal&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entryTipo</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Entry</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">etiquetaSexo</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="s2">&quot;Sexo&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cajaRadio</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Box</span><span class="p">(</span><span class="n">spacing</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cajaRadio</span><span class="o">.</span><span class="n">set_orientation</span><span class="p">(</span><span class="n">Gtk</span><span class="o">.</span><span class="n">Orientation</span><span class="o">.</span><span class="n">HORIZONTAL</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">sexoH</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">RadioButton</span><span class="o">.</span><span class="n">new_with_label_from_widget</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;Macho&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sexoH</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;toggled&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_button_toggled</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">sexoM</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">RadioButton</span><span class="o">.</span><span class="n">new_from_widget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sexoH</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sexoM</span><span class="o">.</span><span class="n">set_label</span><span class="p">(</span><span class="s2">&quot;Hembra&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sexoM</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;toggled&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_button_toggled</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cajaRadio</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sexoH</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cajaRadio</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sexoM</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">etiquetaRaza</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="s2">&quot;Raza&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entryRaza</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Entry</span><span class="p">()</span>


        <span class="bp">self</span><span class="o">.</span><span class="n">botonCrear</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="s2">&quot;Registrar mascota&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">caixaCrear</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">etiquetaDni</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaCrear</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">country_combo</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaCrear</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">etiquetaId</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaCrear</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entryId</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaCrear</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">etiquetaNombre</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaCrear</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entryNombre</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaCrear</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">etiquetaTipo</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaCrear</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entryTipo</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaCrear</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">etiquetaSexo</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">caixaCrear</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cajaRadio</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">caixaCrear</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">etiquetaRaza</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaCrear</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entryRaza</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">caixaCrear</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">botonCrear</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">botonCrear</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;clicked&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_crear_mascota</span><span class="p">)</span>

        <span class="c1">##Declaracion caja modificar</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaMod</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Box</span><span class="p">(</span><span class="n">spacing</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaMod</span><span class="o">.</span><span class="n">set_orientation</span><span class="p">(</span><span class="n">Gtk</span><span class="o">.</span><span class="n">Orientation</span><span class="o">.</span><span class="n">VERTICAL</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">frameMod</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Frame</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frameMod</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">caixaMod</span><span class="p">)</span>

        <span class="n">labelaux2</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="s2">&quot;&lt;b&gt;Modificar&lt;/b&gt;&quot;</span><span class="p">)</span>
        <span class="n">labelaux2</span><span class="o">.</span><span class="n">set_use_markup</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventana</span><span class="o">.</span><span class="n">append_page</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frameMod</span><span class="p">,</span> <span class="n">labelaux2</span><span class="p">)</span>

        <span class="c1">##</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">etiquetaIdM</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="s2">&quot;Id&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entryIdM</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">ListStore</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">country_comboM</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">ComboBox</span><span class="o">.</span><span class="n">new_with_model</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entryIdM</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">auxMod</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">country_comboM</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;changed&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_country_combo_changed2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">renderer_textM</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">CellRendererText</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">country_comboM</span><span class="o">.</span><span class="n">pack_start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">renderer_textM</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">country_comboM</span><span class="o">.</span><span class="n">add_attribute</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">renderer_textM</span><span class="p">,</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="c1">##</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">etiquetaNombreM</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="s2">&quot;Nombre&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entryNombreM</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Entry</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">etiquetaTipoM</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="s2">&quot;Tipo de animal&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entryTipoM</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Entry</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">etiquetaSexoM</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="s2">&quot;Sexo&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cajaRadioM</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Box</span><span class="p">(</span><span class="n">spacing</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cajaRadioM</span><span class="o">.</span><span class="n">set_orientation</span><span class="p">(</span><span class="n">Gtk</span><span class="o">.</span><span class="n">Orientation</span><span class="o">.</span><span class="n">HORIZONTAL</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">sexoHM</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">RadioButton</span><span class="o">.</span><span class="n">new_with_label_from_widget</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;Macho&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sexoHM</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;toggled&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_button_toggled</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">sexoMM</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">RadioButton</span><span class="o">.</span><span class="n">new_from_widget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sexoHM</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sexoMM</span><span class="o">.</span><span class="n">set_label</span><span class="p">(</span><span class="s2">&quot;Hembra&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sexoMM</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;toggled&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_button_toggled</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cajaRadioM</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sexoHM</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cajaRadioM</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sexoMM</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">etiquetaRazaM</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="s2">&quot;Raza&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entryRazaM</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Entry</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">botonMod</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="s2">&quot;Modificar mascota&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">caixaMod</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">etiquetaIdM</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaMod</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">country_comboM</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaMod</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">etiquetaNombreM</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaMod</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entryNombreM</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaMod</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">etiquetaTipoM</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaMod</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entryTipoM</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaMod</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">etiquetaSexoM</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">caixaMod</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cajaRadioM</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">caixaMod</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">etiquetaRazaM</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaMod</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entryRazaM</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">caixaMod</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">botonMod</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">botonMod</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;clicked&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_modificar_mascota</span><span class="p">)</span>

        <span class="c1">##Declaracion caja eliminar</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaEliminar</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Box</span><span class="p">(</span><span class="n">spacing</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaEliminar</span><span class="o">.</span><span class="n">set_orientation</span><span class="p">(</span><span class="n">Gtk</span><span class="o">.</span><span class="n">Orientation</span><span class="o">.</span><span class="n">VERTICAL</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">frameEliminar</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Frame</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frameEliminar</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">caixaEliminar</span><span class="p">)</span>

        <span class="n">labelaux3</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="s2">&quot;&lt;b&gt;Eliminar&lt;/b&gt;&quot;</span><span class="p">)</span>
        <span class="n">labelaux3</span><span class="o">.</span><span class="n">set_use_markup</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventana</span><span class="o">.</span><span class="n">append_page</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frameEliminar</span><span class="p">,</span> <span class="n">labelaux3</span><span class="p">)</span>

        <span class="c1">##</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">etiquetaIdE</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="s2">&quot;Id&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entryIdE</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">ListStore</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cargar_id_mascota</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">country_comboE</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">ComboBox</span><span class="o">.</span><span class="n">new_with_model</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entryIdM</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">auxEliminar</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">country_comboE</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;changed&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_country_combo_changed3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">renderer_textE</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">CellRendererText</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">country_comboE</span><span class="o">.</span><span class="n">pack_start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">renderer_textE</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">country_comboE</span><span class="o">.</span><span class="n">add_attribute</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">renderer_textE</span><span class="p">,</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="c1">##</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">botonEliminar</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="s2">&quot;Eliminar mascota&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">caixaEliminar</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">etiquetaIdE</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaEliminar</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">country_comboE</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaEliminar</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">botonEliminar</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">botonEliminar</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;clicked&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_borrar_mascota</span><span class="p">)</span>

<div class="viewcode-block" id="MascotasRegistro.cargar_dni_cliente"><a class="viewcode-back" href="../Codigo.html#MascotasPrincipal.MascotasRegistro.cargar_dni_cliente">[documentos]</a>    <span class="k">def</span> <span class="nf">cargar_dni_cliente</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Funcion que carga todos los usuarios de la aplicacion si ya hay una base de datos creada si no la crea nueva</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">bbdd</span> <span class="o">=</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;BaseClientes.dat&quot;</span><span class="p">)</span>
        <span class="n">cursor</span> <span class="o">=</span> <span class="n">bbdd</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;CREATE TABLE IF NOT EXISTS clientes</span>
<span class="s2">                                    (dni TEXT PRIMARY KEY, </span>
<span class="s2">                                     nombre TEXT NOT NULL, </span>
<span class="s2">                                     apellidos TEXT NOT NULL,</span>
<span class="s2">                                     sexo TEXT NOT NULL,</span>
<span class="s2">                                     direccion TEXT NOT NULL, </span>
<span class="s2">                                     telefono TEXT NOT NULL,</span>
<span class="s2">                                     email TEXT NOT NULL)</span>
<span class="s2">                        &quot;&quot;&quot;</span><span class="p">)</span>
            <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;select dni from clientes&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">rexistro</span> <span class="ow">in</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">entryDni</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">rexistro</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>

        <span class="k">except</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">OperationalError</span> <span class="k">as</span> <span class="n">errorOperacion</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Se ha producido un error &quot;</span><span class="p">)</span>

        <span class="k">except</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">DatabaseError</span> <span class="k">as</span> <span class="n">errorBaseDatos</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;tratamento doutra excepcion&quot;</span><span class="p">)</span>

        <span class="k">finally</span><span class="p">:</span>
            <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span></div>
            <span class="n">bbdd</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<div class="viewcode-block" id="MascotasRegistro.cargar_id_mascota"><a class="viewcode-back" href="../Codigo.html#MascotasPrincipal.MascotasRegistro.cargar_id_mascota">[documentos]</a>    <span class="k">def</span> <span class="nf">cargar_id_mascota</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Carga todas las mascotas de la aplicacion si ya hay una base de datos creada si no la crea nueva</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">bbdd</span> <span class="o">=</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;BaseClientes.dat&quot;</span><span class="p">)</span>
        <span class="n">cursor</span> <span class="o">=</span> <span class="n">bbdd</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;CREATE TABLE IF NOT EXISTS mascotas</span>
<span class="s2">                                                    (id TEXT PRIMARY KEY,</span>
<span class="s2">                                                     dni TEXT NOT NULL,</span>
<span class="s2">                                                     nombre TEXT NOT NULL,</span>
<span class="s2">                                                     tipo TEXT NOT NULL,</span>
<span class="s2">                                                     sexo TEXT NOT NULL,</span>
<span class="s2">                                                     raza TEXT NOT NULL)</span>
<span class="s2">                                        &quot;&quot;&quot;</span><span class="p">)</span>
            <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;select id from mascotas&quot;</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">entryIdM</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">entryIdE</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">rexistro</span> <span class="ow">in</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">entryIdM</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">rexistro</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">entryIdE</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">rexistro</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>

        <span class="k">except</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">OperationalError</span> <span class="k">as</span> <span class="n">errorOperacion</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Se ha producido un error &quot;</span><span class="p">)</span>

        <span class="k">except</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">DatabaseError</span> <span class="k">as</span> <span class="n">errorBaseDatos</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;tratamento doutra excepcion&quot;</span><span class="p">)</span>

        <span class="k">finally</span><span class="p">:</span>
            <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span></div>
            <span class="n">bbdd</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1">##Funcion que se lanza al pinchar un valor de la combobox y seleciona el valor</span>

    <span class="k">def</span> <span class="nf">on_country_combo_changed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">combo</span><span class="p">):</span>
        <span class="n">tree_iter</span> <span class="o">=</span> <span class="n">combo</span><span class="o">.</span><span class="n">get_active_iter</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">tree_iter</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">model</span> <span class="o">=</span> <span class="n">combo</span><span class="o">.</span><span class="n">get_model</span><span class="p">()</span>
            <span class="n">country</span> <span class="o">=</span> <span class="n">model</span><span class="p">[</span><span class="n">tree_iter</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">aux</span> <span class="o">=</span> <span class="n">country</span>

<div class="viewcode-block" id="MascotasRegistro.on_country_combo_changed2"><a class="viewcode-back" href="../Codigo.html#MascotasPrincipal.MascotasRegistro.on_country_combo_changed2">[documentos]</a>    <span class="k">def</span> <span class="nf">on_country_combo_changed2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">combo</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Funcion que se lanza al pinchar un valor de la combobox entonces hace una busqueda en la que busca todas la mascota con el ID que selecione.</span>
<span class="sd">        Acto seguido carga los datos de la mascota y los muestra&quot;&quot;&quot;</span>
        <span class="n">tree_iter</span> <span class="o">=</span> <span class="n">combo</span><span class="o">.</span><span class="n">get_active_iter</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">tree_iter</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">model</span> <span class="o">=</span> <span class="n">combo</span><span class="o">.</span><span class="n">get_model</span><span class="p">()</span>
            <span class="n">country</span> <span class="o">=</span> <span class="n">model</span><span class="p">[</span><span class="n">tree_iter</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">auxMod</span> <span class="o">=</span> <span class="n">country</span>
            <span class="n">bbdd</span> <span class="o">=</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;BaseClientes.dat&quot;</span><span class="p">)</span>
            <span class="n">cursor</span> <span class="o">=</span> <span class="n">bbdd</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;CREATE TABLE IF NOT EXISTS mascotas</span>
<span class="s2">                                                                    (id TEXT PRIMARY KEY,</span>
<span class="s2">                                                                     dni TEXT NOT NULL,</span>
<span class="s2">                                                                     nombre TEXT NOT NULL,</span>
<span class="s2">                                                                     tipo TEXT NOT NULL,</span>
<span class="s2">                                                                     sexo TEXT NOT NULL,</span>
<span class="s2">                                                                     raza TEXT NOT NULL)</span>
<span class="s2">                                                        &quot;&quot;&quot;</span><span class="p">)</span>

                <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;select * from mascotas where id = &#39;&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">auxMod</span> <span class="o">+</span> <span class="s2">&quot;&#39;&quot;</span><span class="p">)</span>

                <span class="k">for</span> <span class="n">rexistro</span> <span class="ow">in</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">():</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">entryNombreM</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="n">rexistro</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">entryTipoM</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="n">rexistro</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">rexistro</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;H&quot;</span><span class="p">):</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">sexoHM</span><span class="o">.</span><span class="n">set_active</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="p">(</span><span class="n">rexistro</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;M&quot;</span><span class="p">):</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">sexoMM</span><span class="o">.</span><span class="n">set_active</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">entryRazaM</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="n">rexistro</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span>

            <span class="k">except</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">OperationalError</span> <span class="k">as</span> <span class="n">errorOperacion</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Se ha producido un error &quot;</span><span class="p">)</span>

            <span class="k">except</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">DatabaseError</span> <span class="k">as</span> <span class="n">errorBaseDatos</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;tratamento doutra excepcion&quot;</span><span class="p">)</span>

            <span class="k">finally</span><span class="p">:</span>
                <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span></div>
                <span class="n">bbdd</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<div class="viewcode-block" id="MascotasRegistro.on_country_combo_changed3"><a class="viewcode-back" href="../Codigo.html#MascotasPrincipal.MascotasRegistro.on_country_combo_changed3">[documentos]</a>    <span class="k">def</span> <span class="nf">on_country_combo_changed3</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">combo</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Funcion que se lanza al pinchar un valor de la combobox y seleciona el valor</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tree_iter</span> <span class="o">=</span> <span class="n">combo</span><span class="o">.</span><span class="n">get_active_iter</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">tree_iter</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">model</span> <span class="o">=</span> <span class="n">combo</span><span class="o">.</span><span class="n">get_model</span><span class="p">()</span>
            <span class="n">country</span> <span class="o">=</span> <span class="n">model</span><span class="p">[</span><span class="n">tree_iter</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
</div>
            <span class="bp">self</span><span class="o">.</span><span class="n">auxEliminar</span> <span class="o">=</span> <span class="n">country</span>

<div class="viewcode-block" id="MascotasRegistro.on_crear_mascota"><a class="viewcode-back" href="../Codigo.html#MascotasPrincipal.MascotasRegistro.on_crear_mascota">[documentos]</a>    <span class="k">def</span> <span class="nf">on_crear_mascota</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">button</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Funcion en la que recoge todos los datos de la mascota, comprueba que no esten vacios</span>
<span class="sd">        y lo añade a la base de datos mascotas en el caso que la base este creada sino se crea y se añade</span>
<span class="sd">        a la mascota</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">entryId</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span>
        <span class="n">Dni</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">aux</span>
        <span class="n">Nombre</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">entryNombre</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span>
        <span class="n">Tipo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">entryTipo</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span>

        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sexoH</span><span class="o">.</span><span class="n">get_active</span><span class="p">()):</span>
            <span class="n">Sexo</span> <span class="o">=</span> <span class="s2">&quot;Macho&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">Sexo</span> <span class="o">=</span> <span class="s2">&quot;Hembra&quot;</span>

        <span class="n">Raza</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">entryRaza</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span>


        <span class="k">if</span><span class="p">(</span><span class="n">Id</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span> <span class="ow">and</span> <span class="n">Dni</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span> <span class="ow">and</span> <span class="n">Nombre</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span> <span class="ow">and</span> <span class="n">Tipo</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span> <span class="ow">and</span> <span class="n">Sexo</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span> <span class="ow">and</span> <span class="n">Raza</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">):</span>

            <span class="n">bbdd</span> <span class="o">=</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;BaseClientes.dat&quot;</span><span class="p">)</span>
            <span class="n">cursor</span> <span class="o">=</span> <span class="n">bbdd</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

            <span class="k">try</span><span class="p">:</span>

                <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;CREATE TABLE IF NOT EXISTS mascotas</span>
<span class="s2">                                        (id TEXT PRIMARY KEY,</span>
<span class="s2">                                         dni TEXT NOT NULL,</span>
<span class="s2">                                         nombre TEXT NOT NULL,</span>
<span class="s2">                                         tipo TEXT NOT NULL,</span>
<span class="s2">                                         sexo TEXT NOT NULL,</span>
<span class="s2">                                         raza TEXT NOT NULL)</span>
<span class="s2">                            &quot;&quot;&quot;</span><span class="p">)</span>

                <span class="n">sql</span> <span class="o">=</span> <span class="s2">&quot;INSERT INTO mascotas (id,dni,nombre,tipo,sexo,raza) VALUES (?, ?, ?, ?, ?, ?)&quot;</span>
                <span class="n">parametros</span> <span class="o">=</span> <span class="p">(</span><span class="n">Id</span><span class="p">,</span> <span class="n">Dni</span><span class="p">,</span> <span class="n">Nombre</span><span class="p">,</span> <span class="n">Tipo</span><span class="p">,</span> <span class="n">Sexo</span><span class="p">,</span> <span class="n">Raza</span><span class="p">)</span>

                <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">,</span> <span class="n">parametros</span><span class="p">)</span>

                <span class="n">bbdd</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

                <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;select * from mascotas&quot;</span><span class="p">)</span>

                <span class="k">for</span> <span class="n">rexistro</span> <span class="ow">in</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">():</span>
                    <span class="nb">print</span><span class="p">(</span><span class="n">rexistro</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">rexistro</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">rexistro</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">rexistro</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">rexistro</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">rexistro</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">cargar_id_mascota</span><span class="p">()</span>

            <span class="k">except</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">OperationalError</span> <span class="k">as</span> <span class="n">errorOperacion</span><span class="p">:</span>

                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Se ha producido un error &quot;</span><span class="p">)</span>

            <span class="k">except</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">DatabaseError</span> <span class="k">as</span> <span class="n">errorBaseDatos</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">entryId</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s2">&quot;Inserta otro id diferente&quot;</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;tratamento doutra excepcion&quot;</span><span class="p">)</span>

            <span class="k">finally</span><span class="p">:</span>
                <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
                <span class="n">bbdd</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>

            <span class="n">msgbox</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="s1">&#39;Faltan valores para crear la mascota&#39;</span><span class="p">,</span>
                   <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Error valores insuficientes&#39;</span><span class="p">,</span></div>
                   <span class="n">ok_button</span><span class="o">=</span><span class="s1">&#39;Continuar&#39;</span><span class="p">)</span>

<div class="viewcode-block" id="MascotasRegistro.on_modificar_mascota"><a class="viewcode-back" href="../Codigo.html#MascotasPrincipal.MascotasRegistro.on_modificar_mascota">[documentos]</a>    <span class="k">def</span> <span class="nf">on_modificar_mascota</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">button</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Funcion en la que recoge todos los datos nuevos de la mascota, comprueba que no esten vacios</span>
<span class="sd">        y los modifica a la base de datos mascotas en el caso que la base este creada sino se crea y se añade</span>
<span class="sd">        a la mascota</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">auxMod</span>
        <span class="n">Nombre</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">entryNombreM</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span>
        <span class="n">Tipo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">entryTipoM</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span>

        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sexoHM</span><span class="o">.</span><span class="n">get_active</span><span class="p">()):</span>
            <span class="n">Sexo</span> <span class="o">=</span> <span class="s2">&quot;Macho&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">Sexo</span> <span class="o">=</span> <span class="s2">&quot;Hembra&quot;</span>

        <span class="n">Raza</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">entryRazaM</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">Nombre</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span> <span class="ow">and</span> <span class="n">Tipo</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span> <span class="ow">and</span> <span class="n">Sexo</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span> <span class="ow">and</span> <span class="n">Raza</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">):</span>

            <span class="n">bbdd</span> <span class="o">=</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;BaseClientes.dat&quot;</span><span class="p">)</span>
            <span class="n">cursor</span> <span class="o">=</span> <span class="n">bbdd</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;CREATE TABLE IF NOT EXISTS mascotas</span>
<span class="s2">                                                        (id TEXT PRIMARY KEY,</span>
<span class="s2">                                                         dni TEXT NOT NULL,</span>
<span class="s2">                                                         nombre TEXT NOT NULL,</span>
<span class="s2">                                                         tipo TEXT NOT NULL,</span>
<span class="s2">                                                         sexo TEXT NOT NULL,</span>
<span class="s2">                                                         raza TEXT NOT NULL)</span>
<span class="s2">                                            &quot;&quot;&quot;</span><span class="p">)</span>

                <span class="n">sql</span> <span class="o">=</span> <span class="s2">&quot;UPDATE mascotas SET nombre = ?, tipo = ?, sexo = ?, raza = ? where id = ?&quot;</span>
                <span class="n">parametros</span> <span class="o">=</span> <span class="p">(</span><span class="n">Nombre</span><span class="p">,</span> <span class="n">Tipo</span><span class="p">,</span> <span class="n">Sexo</span><span class="p">,</span> <span class="n">Raza</span><span class="p">,</span> <span class="n">Id</span><span class="p">)</span>

                <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">,</span> <span class="n">parametros</span><span class="p">)</span>

                <span class="n">bbdd</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">cargar_id_mascota</span><span class="p">()</span>

            <span class="k">except</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">OperationalError</span> <span class="k">as</span> <span class="n">errorOperacion</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Se ha producido un error &quot;</span><span class="p">)</span>
                <span class="n">msgbox</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="s1">&#39;Se ha producido un error&#39;</span><span class="p">,</span>
                       <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Error operacional&#39;</span><span class="p">,</span>
                       <span class="n">ok_button</span><span class="o">=</span><span class="s1">&#39;Continuar&#39;</span><span class="p">)</span>

            <span class="k">except</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">DatabaseError</span> <span class="k">as</span> <span class="n">errorBaseDatos</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;tratamento doutra excepcion&quot;</span><span class="p">)</span>
                <span class="n">msgbox</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="s1">&#39;Se ha producido un error&#39;</span><span class="p">,</span>
                       <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Error operacional&#39;</span><span class="p">,</span>
                       <span class="n">ok_button</span><span class="o">=</span><span class="s1">&#39;Continuar&#39;</span><span class="p">)</span>

            <span class="k">finally</span><span class="p">:</span>
                <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
                <span class="n">bbdd</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">msgbox</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="s1">&#39;Faltan valores para modificar una mascota&#39;</span><span class="p">,</span>
                   <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Error datos insuficientes&#39;</span><span class="p">,</span></div>
                   <span class="n">ok_button</span><span class="o">=</span><span class="s1">&#39;Continuar&#39;</span><span class="p">)</span>

<div class="viewcode-block" id="MascotasRegistro.verificacion"><a class="viewcode-back" href="../Codigo.html#MascotasPrincipal.MascotasRegistro.verificacion">[documentos]</a>    <span class="k">def</span> <span class="nf">verificacion</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Funcion para preguntar al usuario si quiere eliminar de la base de datos una mascota</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">askyesno</span><span class="p">(</span><span class="s1">&#39;Verificar&#39;</span><span class="p">,</span> <span class="s1">&#39;¿Seguro que quiere borrar a la mascota?&#39;</span><span class="p">):</span>
            <span class="n">showinfo</span><span class="p">(</span><span class="s1">&#39;Si&#39;</span><span class="p">,</span> <span class="s1">&#39;El mascota fue eliminado correctamente&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">showinfo</span><span class="p">(</span><span class="s1">&#39;No&#39;</span><span class="p">,</span> <span class="s1">&#39;Borrar fue cancelado&#39;</span><span class="p">)</span></div>
            <span class="k">return</span> <span class="kc">False</span>

<div class="viewcode-block" id="MascotasRegistro.on_borrar_mascota"><a class="viewcode-back" href="../Codigo.html#MascotasPrincipal.MascotasRegistro.on_borrar_mascota">[documentos]</a>    <span class="k">def</span> <span class="nf">on_borrar_mascota</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">button</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Funcion en la que elimina todos los datos de la mascota selecionada por el id</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">bbdd</span> <span class="o">=</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;BaseClientes.dat&quot;</span><span class="p">)</span>
        <span class="n">cursor</span> <span class="o">=</span> <span class="n">bbdd</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

        <span class="n">validacion</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">verificacion</span><span class="p">()</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">validacion</span> <span class="o">==</span> <span class="kc">True</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;CREATE TABLE IF NOT EXISTS mascotas</span>
<span class="s2">                                                                        (id TEXT PRIMARY KEY,</span>
<span class="s2">                                                                         dni TEXT NOT NULL,</span>
<span class="s2">                                                                         nombre TEXT NOT NULL,</span>
<span class="s2">                                                                         tipo TEXT NOT NULL,</span>
<span class="s2">                                                                         sexo TEXT NOT NULL,</span>
<span class="s2">                                                                         raza TEXT NOT NULL)</span>
<span class="s2">                                                            &quot;&quot;&quot;</span><span class="p">)</span>
                <span class="n">sql</span> <span class="o">=</span> <span class="s2">&quot;DELETE FROM mascotas where id = &#39;&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">auxEliminar</span> <span class="o">+</span> <span class="s2">&quot;&#39;&quot;</span>

                <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span>
                <span class="n">bbdd</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">cargar_id_mascota</span><span class="p">()</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Eliminado&quot;</span><span class="p">)</span>

            <span class="k">except</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">OperationalError</span> <span class="k">as</span> <span class="n">errorOperacion</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Se ha producido un error &quot;</span><span class="p">)</span>

            <span class="k">except</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">DatabaseError</span> <span class="k">as</span> <span class="n">errorBaseDatos</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;tratamento doutra excepcion&quot;</span><span class="p">)</span>

            <span class="k">finally</span><span class="p">:</span>
                <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span></div>
                <span class="n">bbdd</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">on_button_toggled</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">button</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">button</span><span class="o">.</span><span class="n">get_active</span><span class="p">():</span>
            <span class="n">state</span> <span class="o">=</span> <span class="s2">&quot;on&quot;</span>
        <span class="k">else</span><span class="p">:</span></div>
            <span class="n">state</span> <span class="o">=</span> <span class="s2">&quot;off&quot;</span>

<div class="viewcode-block" id="MascotasListado"><a class="viewcode-back" href="../Codigo.html#MascotasPrincipal.MascotasListado">[documentos]</a><span class="k">class</span> <span class="nc">MascotasListado</span><span class="p">(</span><span class="n">Gtk</span><span class="o">.</span><span class="n">Window</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Pestaña del listado de todos los clientes y mascotas</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">Gtk</span><span class="o">.</span><span class="n">Window</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Listado&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_default_size</span><span class="p">(</span><span class="mi">250</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_border_width</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cajaVentana</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Box</span><span class="p">(</span><span class="n">spacing</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cajaVentana</span><span class="o">.</span><span class="n">set_orientation</span><span class="p">(</span><span class="n">Gtk</span><span class="o">.</span><span class="n">Orientation</span><span class="o">.</span><span class="n">VERTICAL</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cajaVentana</span><span class="p">)</span>

        <span class="c1">##Tabla Clientes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">columnas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Dni&quot;</span><span class="p">,</span> <span class="s2">&quot;Nombre&quot;</span><span class="p">,</span> <span class="s2">&quot;Apellidos&quot;</span><span class="p">,</span> <span class="s2">&quot;Sexo&quot;</span><span class="p">,</span> <span class="s2">&quot;Direccion&quot;</span><span class="p">,</span> <span class="s2">&quot;Telefono&quot;</span><span class="p">,</span> <span class="s2">&quot;Email&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">modelo</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">ListStore</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">axenda</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vista</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">TreeView</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">modelo</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">vista</span><span class="o">.</span><span class="n">get_selection</span><span class="p">()</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;changed&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_changed</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">nombre</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="s2">&quot;&lt;b&gt;Tabla clientes&lt;/b&gt;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nombre</span><span class="o">.</span><span class="n">set_use_markup</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cajaVentana</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nombre</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cajaVentana</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vista</span><span class="p">)</span>

        <span class="c1">##Tabla Clientes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">columnasM</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Id&quot;</span><span class="p">,</span> <span class="s2">&quot;Dni&quot;</span><span class="p">,</span> <span class="s2">&quot;Nombre&quot;</span><span class="p">,</span> <span class="s2">&quot;Tipo de animal&quot;</span><span class="p">,</span> <span class="s2">&quot;Sexo&quot;</span><span class="p">,</span> <span class="s2">&quot;Raza&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">modeloM</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">ListStore</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">axendaM</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vistaM</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">TreeView</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">modeloM</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">auxiliar</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">nombreM</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="s2">&quot;&lt;b&gt;Tabla mascotas&lt;/b&gt;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nombreM</span><span class="o">.</span><span class="n">set_use_markup</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cajaVentana</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nombreM</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cajaVentana</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vistaM</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">botonInforme</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="s2">&quot;Generar Informe&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">botonInforme</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;clicked&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_crear_informe</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cajaVentana</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">botonInforme</span><span class="p">)</span>

        <span class="n">bbdd</span> <span class="o">=</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;BaseClientes.dat&quot;</span><span class="p">)</span>
        <span class="n">cursor</span> <span class="o">=</span> <span class="n">bbdd</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;CREATE TABLE IF NOT EXISTS clientes</span>
<span class="s2">                        (dni TEXT PRIMARY KEY, </span>
<span class="s2">                         nombre TEXT NOT NULL, </span>
<span class="s2">                         apellidos TEXT NOT NULL,</span>
<span class="s2">                         sexo TEXT NOT NULL,</span>
<span class="s2">                         direccion TEXT NOT NULL, </span>
<span class="s2">                         telefono TEXT NOT NULL,</span>
<span class="s2">                         email TEXT NOT NULL)</span>
<span class="s2">            &quot;&quot;&quot;</span><span class="p">)</span>

            <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;select * from clientes&quot;</span><span class="p">)</span>

            <span class="k">for</span> <span class="n">rexistro</span> <span class="ow">in</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">axenda</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">rexistro</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">,</span> <span class="n">rexistro</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">,</span> <span class="n">rexistro</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="p">,</span> <span class="n">rexistro</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="p">,</span> <span class="n">rexistro</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="p">,</span> <span class="n">rexistro</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="p">,</span> <span class="n">rexistro</span><span class="p">[</span><span class="mi">6</span><span class="p">]])</span>

            <span class="k">for</span> <span class="n">elemento</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">axenda</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">modelo</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">elemento</span><span class="p">)</span>

            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">columnas</span><span class="p">)):</span>
                    <span class="n">celda</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">CellRendererText</span><span class="p">()</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">columna</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">TreeViewColumn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">columnas</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">celda</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">i</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">vista</span><span class="o">.</span><span class="n">append_column</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">columna</span><span class="p">)</span>

        <span class="k">except</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">OperationalError</span> <span class="k">as</span> <span class="n">errorOperacion</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Se ha producido un error &quot;</span><span class="p">)</span>

        <span class="k">except</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">DatabaseError</span> <span class="k">as</span> <span class="n">errorBaseDatos</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;tratamento doutra excepcion&quot;</span><span class="p">)</span>

        <span class="k">finally</span><span class="p">:</span>
            <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
            <span class="n">bbdd</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<div class="viewcode-block" id="MascotasListado.on_changed"><a class="viewcode-back" href="../Codigo.html#MascotasPrincipal.MascotasListado.on_changed">[documentos]</a>    <span class="k">def</span> <span class="nf">on_changed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">selection</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Funcion la cual se activa cuando seleccionamos un cliente en la tabla de cliente para que carge las mascotas del propio cliente</span>
<span class="sd">        :param selection:</span>
<span class="sd">        :return:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="nb">iter</span><span class="p">)</span> <span class="o">=</span> <span class="n">selection</span><span class="o">.</span><span class="n">get_selected</span><span class="p">()</span>

        <span class="n">bbdd</span> <span class="o">=</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;BaseClientes.dat&quot;</span><span class="p">)</span>
        <span class="n">cursor</span> <span class="o">=</span> <span class="n">bbdd</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;CREATE TABLE IF NOT EXISTS mascotas</span>
<span class="s2">                                                    (id TEXT PRIMARY KEY,</span>
<span class="s2">                                                     dni TEXT NOT NULL,</span>
<span class="s2">                                                     nombre TEXT NOT NULL,</span>
<span class="s2">                                                     tipo TEXT NOT NULL,</span>
<span class="s2">                                                     sexo TEXT NOT NULL,</span>
<span class="s2">                                                     raza TEXT NOT NULL)</span>
<span class="s2">                                        &quot;&quot;&quot;</span><span class="p">)</span>
            <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;select * from mascotas where dni = &#39;&quot;</span> <span class="o">+</span> <span class="n">model</span><span class="p">[</span><span class="nb">iter</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;&#39;&quot;</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">axendaM</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">rexistro</span> <span class="ow">in</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">axendaM</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">rexistro</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">rexistro</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">rexistro</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">rexistro</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">rexistro</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">rexistro</span><span class="p">[</span><span class="mi">5</span><span class="p">]])</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">modeloM</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">elemento</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">axendaM</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">modeloM</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">elemento</span><span class="p">)</span>

            <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">auxiliar</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">columnasM</span><span class="p">)):</span>
                    <span class="n">celda</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">CellRendererText</span><span class="p">()</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">columnaM</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">TreeViewColumn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">columnasM</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">celda</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">i</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">vistaM</span><span class="o">.</span><span class="n">append_column</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">columnaM</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">auxiliar</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="k">except</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">OperationalError</span> <span class="k">as</span> <span class="n">errorOperacion</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Se ha producido un error &quot;</span><span class="p">)</span>

        <span class="k">except</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">DatabaseError</span> <span class="k">as</span> <span class="n">errorBaseDatos</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;tratamento doutra excepcion&quot;</span><span class="p">)</span>

        <span class="k">finally</span><span class="p">:</span>
            <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
            <span class="n">bbdd</span><span class="o">.</span><span class="n">close</span><span class="p">()</span></div>
        <span class="k">return</span> <span class="kc">True</span>

<div class="viewcode-block" id="MascotasListado.on_crear_informe"><a class="viewcode-back" href="../Codigo.html#MascotasPrincipal.MascotasListado.on_crear_informe">[documentos]</a>    <span class="k">def</span> <span class="nf">on_crear_informe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">button</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Funcion para generar el informe con todos los datos de clientes y sus mascotas</span>
<span class="sd">        :param button:</span>
<span class="sd">        :return:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">bbdd</span> <span class="o">=</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;BaseClientes.dat&quot;</span><span class="p">)</span>
            <span class="n">cursor</span> <span class="o">=</span> <span class="n">bbdd</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

            <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;CREATE TABLE IF NOT EXISTS clientes</span>
<span class="s2">                                                   (dni TEXT PRIMARY KEY, </span>
<span class="s2">                                                    nombre TEXT NOT NULL, </span>
<span class="s2">                                                    apellidos TEXT NOT NULL,</span>
<span class="s2">                                                    sexo TEXT NOT NULL,</span>
<span class="s2">                                                    direccion TEXT NOT NULL, </span>
<span class="s2">                                                    telefono TEXT NOT NULL,</span>
<span class="s2">                                                    email TEXT NOT NULL)</span>
<span class="s2">                                       &quot;&quot;&quot;</span><span class="p">)</span>
            <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;select * from clientes&quot;</span><span class="p">)</span>
            <span class="n">cont</span> <span class="o">=</span> <span class="mi">0</span>

            <span class="n">follaEstilo</span> <span class="o">=</span> <span class="n">getSampleStyleSheet</span><span class="p">()</span>
            <span class="n">guion</span> <span class="o">=</span> <span class="p">[]</span>

            <span class="n">cabeceira</span> <span class="o">=</span> <span class="n">follaEstilo</span><span class="p">[</span><span class="s2">&quot;Title&quot;</span><span class="p">]</span>
            <span class="n">cabeceira</span><span class="o">.</span><span class="n">pageBreaKBefore</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">cabeceira</span><span class="o">.</span><span class="n">keepWithNext</span> <span class="o">=</span> <span class="mi">0</span>

            <span class="n">parrafo</span> <span class="o">=</span> <span class="n">Paragraph</span><span class="p">(</span><span class="s2">&quot;Listado de clientes con sus mascotas&quot;</span><span class="p">,</span> <span class="n">cabeceira</span><span class="p">)</span>
            <span class="n">guion</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">parrafo</span><span class="p">)</span>
            <span class="n">guion</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Spacer</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>

            <span class="k">for</span> <span class="n">rexistro</span> <span class="ow">in</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">():</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">rexistro</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">rexistro</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">rexistro</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">rexistro</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">rexistro</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">rexistro</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">rexistro</span><span class="p">[</span><span class="mi">6</span><span class="p">])</span>

                <span class="n">cont</span> <span class="o">=</span> <span class="n">cont</span> <span class="o">+</span> <span class="mi">1</span>

                <span class="n">corpoTexto</span> <span class="o">=</span> <span class="n">follaEstilo</span><span class="p">[</span><span class="s2">&quot;Heading4&quot;</span><span class="p">]</span>
                <span class="n">clienteParrafo</span> <span class="o">=</span> <span class="s2">&quot;Cliente &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">cont</span><span class="p">)</span>
                <span class="n">parrafo2</span> <span class="o">=</span> <span class="n">Paragraph</span><span class="p">(</span><span class="n">clienteParrafo</span><span class="p">,</span> <span class="n">corpoTexto</span><span class="p">)</span>
                <span class="n">guion</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">parrafo2</span><span class="p">)</span>

                <span class="n">dniParrafo</span> <span class="o">=</span> <span class="s2">&quot;DNI: &quot;</span> <span class="o">+</span> <span class="n">rexistro</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">nombreParrafo</span> <span class="o">=</span> <span class="s2">&quot;Nombre: &quot;</span> <span class="o">+</span> <span class="n">rexistro</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">apellidosParrafo</span> <span class="o">=</span> <span class="s2">&quot;Apellidos: &quot;</span> <span class="o">+</span> <span class="n">rexistro</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
                <span class="n">sexoParrafo</span> <span class="o">=</span> <span class="s2">&quot;Sexo: &quot;</span> <span class="o">+</span> <span class="n">rexistro</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
                <span class="n">direccionParrafo</span> <span class="o">=</span> <span class="s2">&quot;Direccion: &quot;</span> <span class="o">+</span> <span class="n">rexistro</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
                <span class="n">telefonoParrafo</span> <span class="o">=</span> <span class="s2">&quot;Telefono: &quot;</span> <span class="o">+</span> <span class="n">rexistro</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
                <span class="n">emailParrafo</span> <span class="o">=</span> <span class="s2">&quot;Email: &quot;</span> <span class="o">+</span> <span class="n">rexistro</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span>



                <span class="n">corpoTexto</span> <span class="o">=</span> <span class="n">follaEstilo</span><span class="p">[</span><span class="s2">&quot;BodyText&quot;</span><span class="p">]</span>

                <span class="n">parrafo2</span> <span class="o">=</span> <span class="n">Paragraph</span><span class="p">(</span><span class="n">dniParrafo</span><span class="p">,</span> <span class="n">corpoTexto</span><span class="p">)</span>
                <span class="n">guion</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">parrafo2</span><span class="p">)</span>

                <span class="n">parrafo2</span> <span class="o">=</span> <span class="n">Paragraph</span><span class="p">(</span><span class="n">nombreParrafo</span><span class="p">,</span> <span class="n">corpoTexto</span><span class="p">)</span>
                <span class="n">guion</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">parrafo2</span><span class="p">)</span>

                <span class="n">parrafo2</span> <span class="o">=</span> <span class="n">Paragraph</span><span class="p">(</span><span class="n">apellidosParrafo</span><span class="p">,</span> <span class="n">corpoTexto</span><span class="p">)</span>
                <span class="n">guion</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">parrafo2</span><span class="p">)</span>

                <span class="n">parrafo2</span> <span class="o">=</span> <span class="n">Paragraph</span><span class="p">(</span><span class="n">sexoParrafo</span><span class="p">,</span> <span class="n">corpoTexto</span><span class="p">)</span>
                <span class="n">guion</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">parrafo2</span><span class="p">)</span>

                <span class="n">parrafo2</span> <span class="o">=</span> <span class="n">Paragraph</span><span class="p">(</span><span class="n">direccionParrafo</span><span class="p">,</span> <span class="n">corpoTexto</span><span class="p">)</span>
                <span class="n">guion</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">parrafo2</span><span class="p">)</span>

                <span class="n">parrafo2</span> <span class="o">=</span> <span class="n">Paragraph</span><span class="p">(</span><span class="n">telefonoParrafo</span><span class="p">,</span> <span class="n">corpoTexto</span><span class="p">)</span>
                <span class="n">guion</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">parrafo2</span><span class="p">)</span>

                <span class="n">parrafo2</span> <span class="o">=</span> <span class="n">Paragraph</span><span class="p">(</span><span class="n">emailParrafo</span><span class="p">,</span> <span class="n">corpoTexto</span><span class="p">)</span>
                <span class="n">guion</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">parrafo2</span><span class="p">)</span>

                <span class="n">mascotasAsociadas</span> <span class="o">=</span> <span class="s2">&quot;Mascotas :&quot;</span>
                <span class="n">parrafo2</span> <span class="o">=</span> <span class="n">Paragraph</span><span class="p">(</span><span class="n">mascotasAsociadas</span><span class="p">,</span> <span class="n">corpoTexto</span><span class="p">)</span>
                <span class="n">guion</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">parrafo2</span><span class="p">)</span>


                <span class="n">bbdd2</span> <span class="o">=</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;BaseClientes.dat&quot;</span><span class="p">)</span>
                <span class="n">cursor2</span> <span class="o">=</span> <span class="n">bbdd2</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

                <span class="n">cursor2</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;CREATE TABLE IF NOT EXISTS mascotas</span>
<span class="s2">                                                        (id TEXT PRIMARY KEY,</span>
<span class="s2">                                                         dni TEXT NOT NULL,</span>
<span class="s2">                                                         nombre TEXT NOT NULL,</span>
<span class="s2">                                                         tipo TEXT NOT NULL,</span>
<span class="s2">                                                         sexo TEXT NOT NULL,</span>
<span class="s2">                                                         raza TEXT NOT NULL)</span>
<span class="s2">                                            &quot;&quot;&quot;</span><span class="p">)</span>
                <span class="n">sql</span> <span class="o">=</span> <span class="s2">&quot;select * from mascotas where dni = &quot;</span> <span class="o">+</span> <span class="s2">&quot;&#39;&quot;</span> <span class="o">+</span> <span class="n">rexistro</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;&#39;&quot;</span>
                <span class="n">cursor2</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span>

                <span class="n">cabeceira</span> <span class="o">=</span> <span class="p">[[</span><span class="s2">&quot;ID&quot;</span><span class="p">,</span> <span class="s2">&quot;DNI&quot;</span><span class="p">,</span> <span class="s2">&quot;Nombre&quot;</span><span class="p">,</span> <span class="s2">&quot;Tipo&quot;</span><span class="p">,</span> <span class="s2">&quot;Sexo&quot;</span><span class="p">,</span> <span class="s2">&quot;Raza&quot;</span><span class="p">]]</span>
                <span class="n">cabeceira</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="n">elemento</span> <span class="k">for</span> <span class="n">elemento</span> <span class="ow">in</span> <span class="n">cursor2</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span> <span class="k">if</span> <span class="n">elemento</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">cabeceira</span><span class="p">])</span>
                <span class="n">taboa</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">cabeceira</span><span class="p">)</span>

                <span class="n">taboa</span><span class="o">.</span><span class="n">setStyle</span><span class="p">([(</span><span class="s2">&quot;BOX&quot;</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="mf">0.25</span><span class="p">,</span> <span class="n">colors</span><span class="o">.</span><span class="n">black</span><span class="p">),</span>
                                <span class="p">(</span><span class="s2">&quot;INNERGRID&quot;</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="mf">0.25</span><span class="p">,</span> <span class="n">colors</span><span class="o">.</span><span class="n">black</span><span class="p">)</span>
                                <span class="p">])</span>

                <span class="n">guion</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">taboa</span><span class="p">)</span>
                <span class="n">guion</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Spacer</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>

            <span class="n">doc</span> <span class="o">=</span> <span class="n">SimpleDocTemplate</span><span class="p">(</span><span class="s2">&quot;informe.pdf&quot;</span><span class="p">,</span> <span class="n">pagesize</span><span class="o">=</span><span class="n">A4</span><span class="p">,</span> <span class="n">showBoundary</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">doc</span><span class="o">.</span><span class="n">build</span><span class="p">(</span><span class="n">guion</span><span class="p">)</span>


        <span class="k">except</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">OperationalError</span> <span class="k">as</span> <span class="n">errorOperacion</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Se ha producido un error &quot;</span><span class="p">)</span>

        <span class="k">except</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">DatabaseError</span> <span class="k">as</span> <span class="n">errorBaseDatos</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;tratamento doutra excepcion&quot;</span><span class="p">)</span>

        <span class="k">finally</span><span class="p">:</span>
            <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span></div></div>
            <span class="n">bbdd</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<div class="viewcode-block" id="MascotasClientes"><a class="viewcode-back" href="../Codigo.html#MascotasPrincipal.MascotasClientes">[documentos]</a><span class="k">class</span> <span class="nc">MascotasClientes</span><span class="p">(</span><span class="n">Gtk</span><span class="o">.</span><span class="n">Window</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Pestaña de gestion del cliente</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">Gtk</span><span class="o">.</span><span class="n">Window</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Clientes&quot;</span><span class="p">)</span>

        <span class="c1"># Declaracion de la caja principal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventana</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Notebook</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventana</span><span class="o">.</span><span class="n">set_size_request</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">300</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">caixaventana</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">frameDere</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Frame</span><span class="p">()</span>

        <span class="c1"># Declaracion caja insertar</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaDerecha</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Box</span><span class="p">(</span><span class="n">spacing</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaDerecha</span><span class="o">.</span><span class="n">set_orientation</span><span class="p">(</span><span class="n">Gtk</span><span class="o">.</span><span class="n">Orientation</span><span class="o">.</span><span class="n">HORIZONTAL</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaDerecha1</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Box</span><span class="p">(</span><span class="n">spacing</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaDerecha1</span><span class="o">.</span><span class="n">set_orientation</span><span class="p">(</span><span class="n">Gtk</span><span class="o">.</span><span class="n">Orientation</span><span class="o">.</span><span class="n">VERTICAL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaDerecha</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaDerecha1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaDerecha2</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Box</span><span class="p">(</span><span class="n">spacing</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaDerecha2</span><span class="o">.</span><span class="n">set_orientation</span><span class="p">(</span><span class="n">Gtk</span><span class="o">.</span><span class="n">Orientation</span><span class="o">.</span><span class="n">VERTICAL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaDerecha</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaDerecha2</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">frameDere</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaDerecha</span><span class="p">)</span>

        <span class="n">etiquetaaux1</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="s2">&quot;&lt;b&gt;Agregar&lt;/b&gt;&quot;</span><span class="p">)</span>
        <span class="n">etiquetaaux1</span><span class="o">.</span><span class="n">set_use_markup</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventana</span><span class="o">.</span><span class="n">append_page</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frameDere</span><span class="p">,</span> <span class="n">etiquetaaux1</span><span class="p">)</span>


        <span class="bp">self</span><span class="o">.</span><span class="n">etiquetaDni</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="s2">&quot;Dni&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entryDni</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Entry</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">etiquetaNombre</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="s2">&quot;Nombre&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entryNombre</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Entry</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">etiquetaApellidos</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="s2">&quot;Apellidos&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entryApellidos</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Entry</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">etiquetaSexo</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="s2">&quot;Sexo&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cajaRadio</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Box</span><span class="p">(</span><span class="n">spacing</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cajaRadio</span><span class="o">.</span><span class="n">set_orientation</span><span class="p">(</span><span class="n">Gtk</span><span class="o">.</span><span class="n">Orientation</span><span class="o">.</span><span class="n">HORIZONTAL</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">sexoH</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">RadioButton</span><span class="o">.</span><span class="n">new_with_label_from_widget</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;Hombre&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sexoH</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;toggled&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_button_toggled</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">sexoM</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">RadioButton</span><span class="o">.</span><span class="n">new_from_widget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sexoH</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sexoM</span><span class="o">.</span><span class="n">set_label</span><span class="p">(</span><span class="s2">&quot;Mujer&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sexoM</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;toggled&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_button_toggled</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cajaRadio</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sexoH</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cajaRadio</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sexoM</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">etiquetaDireccion</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="s2">&quot;Direccion&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entryDireccion</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Entry</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">etiquetaTelefono</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="s2">&quot;Telefono&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entryTelefono</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Entry</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">etiquetaEmail</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="s2">&quot;Email&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entryEmail</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Entry</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">botonCrear</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="s2">&quot;Crear cliente&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaDerecha1</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">etiquetaDni</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaDerecha1</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entryDni</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaDerecha1</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">etiquetaNombre</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaDerecha1</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entryNombre</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaDerecha1</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">etiquetaApellidos</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaDerecha1</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entryApellidos</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaDerecha1</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">etiquetaSexo</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaDerecha1</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cajaRadio</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaDerecha2</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">etiquetaDireccion</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaDerecha2</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entryDireccion</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaDerecha2</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">etiquetaTelefono</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaDerecha2</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entryTelefono</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaDerecha2</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">etiquetaEmail</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaDerecha2</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entryEmail</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaDerecha2</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">botonCrear</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">botonCrear</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;clicked&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_crear_cliente</span><span class="p">)</span>

        <span class="c1">##########################################################</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">frameCentro</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Frame</span><span class="p">()</span>

        <span class="c1"># Declaracion caja modificar</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaCentro</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Box</span><span class="p">(</span><span class="n">spacing</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaCentro</span><span class="o">.</span><span class="n">set_orientation</span><span class="p">(</span><span class="n">Gtk</span><span class="o">.</span><span class="n">Orientation</span><span class="o">.</span><span class="n">HORIZONTAL</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaCentro1</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Box</span><span class="p">(</span><span class="n">spacing</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaCentro1</span><span class="o">.</span><span class="n">set_orientation</span><span class="p">(</span><span class="n">Gtk</span><span class="o">.</span><span class="n">Orientation</span><span class="o">.</span><span class="n">VERTICAL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaCentro</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaCentro1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaCentro2</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Box</span><span class="p">(</span><span class="n">spacing</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaCentro2</span><span class="o">.</span><span class="n">set_orientation</span><span class="p">(</span><span class="n">Gtk</span><span class="o">.</span><span class="n">Orientation</span><span class="o">.</span><span class="n">VERTICAL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaCentro</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaCentro2</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">frameCentro</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaCentro</span><span class="p">)</span>

        <span class="n">etiquetaaux2</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="s2">&quot;&lt;b&gt;Modificar&lt;/b&gt;&quot;</span><span class="p">)</span>
        <span class="n">etiquetaaux2</span><span class="o">.</span><span class="n">set_use_markup</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventana</span><span class="o">.</span><span class="n">append_page</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frameCentro</span><span class="p">,</span> <span class="n">etiquetaaux2</span><span class="p">)</span>

        <span class="c1">##</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">etiquetaDniM</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="s2">&quot;Dni&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entryDniM</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">ListStore</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">country_combo</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">ComboBox</span><span class="o">.</span><span class="n">new_with_model</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entryDniM</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">aux</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">country_combo</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;changed&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_country_combo_changed</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">renderer_text</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">CellRendererText</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">country_combo</span><span class="o">.</span><span class="n">pack_start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">renderer_text</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">country_combo</span><span class="o">.</span><span class="n">add_attribute</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">renderer_text</span><span class="p">,</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="c1">##</span>


        <span class="bp">self</span><span class="o">.</span><span class="n">etiquetaNombreM</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="s2">&quot;Nombre&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entryNombreM</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Entry</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">etiquetaApellidosM</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="s2">&quot;Apellidos&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entryApellidosM</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Entry</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">etiquetaSexoM</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="s2">&quot;Sexo&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cajaRadioM</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Box</span><span class="p">(</span><span class="n">spacing</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cajaRadioM</span><span class="o">.</span><span class="n">set_orientation</span><span class="p">(</span><span class="n">Gtk</span><span class="o">.</span><span class="n">Orientation</span><span class="o">.</span><span class="n">HORIZONTAL</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">sexoHM</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">RadioButton</span><span class="o">.</span><span class="n">new_with_label_from_widget</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;Hombre&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sexoHM</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;toggled&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_button_toggled</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">sexoMM</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">RadioButton</span><span class="o">.</span><span class="n">new_from_widget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sexoHM</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sexoMM</span><span class="o">.</span><span class="n">set_label</span><span class="p">(</span><span class="s2">&quot;Mujer&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sexoMM</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;toggled&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_button_toggled</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cajaRadioM</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sexoHM</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cajaRadioM</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sexoMM</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">etiquetaDireccionM</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="s2">&quot;Direccion&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entryDireccionM</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Entry</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">etiquetaTelefonoM</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="s2">&quot;Telefono&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entryTelefonoM</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Entry</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">etiquetaEmailM</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="s2">&quot;Email&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entryEmailM</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Entry</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">botonM</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="s2">&quot;Modificar cliente&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaCentro1</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">etiquetaDniM</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaCentro1</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">country_combo</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaCentro1</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">etiquetaNombreM</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaCentro1</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entryNombreM</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaCentro1</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">etiquetaApellidosM</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaCentro1</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entryApellidosM</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaCentro1</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">etiquetaSexoM</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaCentro1</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cajaRadioM</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaCentro2</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">etiquetaDireccionM</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaCentro2</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entryDireccionM</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaCentro2</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">etiquetaTelefonoM</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaCentro2</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entryTelefonoM</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaCentro2</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">etiquetaEmailM</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaCentro2</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entryEmailM</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaCentro2</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">botonM</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">botonM</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;clicked&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_modificar_cliente</span><span class="p">)</span>

        <span class="c1">#####################</span>
        <span class="c1"># Declaracion caja eliminar</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaIzq</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Box</span><span class="p">(</span><span class="n">spacing</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaIzq</span><span class="o">.</span><span class="n">set_orientation</span><span class="p">(</span><span class="n">Gtk</span><span class="o">.</span><span class="n">Orientation</span><span class="o">.</span><span class="n">VERTICAL</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">frameIzq</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Frame</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frameIzq</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaIzq</span><span class="p">)</span>

        <span class="n">etiquetaaux3</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="s2">&quot;&lt;b&gt;Eliminar&lt;/b&gt;&quot;</span><span class="p">)</span>
        <span class="n">etiquetaaux3</span><span class="o">.</span><span class="n">set_use_markup</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventana</span><span class="o">.</span><span class="n">append_page</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frameIzq</span><span class="p">,</span> <span class="n">etiquetaaux3</span><span class="p">)</span>

        <span class="c1">##</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">etiquetaDniE</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="s2">&quot;Dni&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entryDniE</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">ListStore</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cargar_dni_cliente</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">country_comboM</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">ComboBox</span><span class="o">.</span><span class="n">new_with_model</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entryDniE</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">aux2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">country_comboM</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;changed&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_country_combo_changed2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">renderer_textM</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">CellRendererText</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">country_comboM</span><span class="o">.</span><span class="n">pack_start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">renderer_textM</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">country_comboM</span><span class="o">.</span><span class="n">add_attribute</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">renderer_textM</span><span class="p">,</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">botonBorrar</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="s2">&quot;Borrar cliente&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaIzq</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">etiquetaDniE</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaIzq</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">country_comboM</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">caixaventanaIzq</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">botonBorrar</span><span class="p">)</span>


        <span class="bp">self</span><span class="o">.</span><span class="n">botonBorrar</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;clicked&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_borrar_cliente</span><span class="p">)</span>


        <span class="c1">##</span>

<div class="viewcode-block" id="MascotasClientes.cargar_dni_cliente"><a class="viewcode-back" href="../Codigo.html#MascotasPrincipal.MascotasClientes.cargar_dni_cliente">[documentos]</a>    <span class="k">def</span> <span class="nf">cargar_dni_cliente</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Funcion la cual se lanza al crear o entrar en la seccion de clientes para cargar todos los dnis de los clientes actuales</span>
<span class="sd">        :return:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">bbdd</span> <span class="o">=</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;BaseClientes.dat&quot;</span><span class="p">)</span>
        <span class="n">cursor</span> <span class="o">=</span> <span class="n">bbdd</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;CREATE TABLE IF NOT EXISTS clientes</span>
<span class="s2">                                    (dni TEXT PRIMARY KEY, </span>
<span class="s2">                                     nombre TEXT NOT NULL, </span>
<span class="s2">                                     apellidos TEXT NOT NULL,</span>
<span class="s2">                                     sexo TEXT NOT NULL,</span>
<span class="s2">                                     direccion TEXT NOT NULL, </span>
<span class="s2">                                     telefono TEXT NOT NULL,</span>
<span class="s2">                                     email TEXT NOT NULL)</span>
<span class="s2">                        &quot;&quot;&quot;</span><span class="p">)</span>

            <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;select dni from clientes&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">entryDniM</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">entryDniE</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">rexistro</span> <span class="ow">in</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">():</span>
                <span class="nb">print</span><span class="p">([</span><span class="n">rexistro</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">entryDniM</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">rexistro</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">entryDniE</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">rexistro</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>


        <span class="k">except</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">OperationalError</span> <span class="k">as</span> <span class="n">errorOperacion</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Se ha producido un error &quot;</span><span class="p">)</span>

        <span class="k">except</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">DatabaseError</span> <span class="k">as</span> <span class="n">errorBaseDatos</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;tratamento doutra excepcion&quot;</span><span class="p">)</span>

        <span class="k">finally</span><span class="p">:</span>
            <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span></div>
            <span class="n">bbdd</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<div class="viewcode-block" id="MascotasClientes.on_country_combo_changed"><a class="viewcode-back" href="../Codigo.html#MascotasPrincipal.MascotasClientes.on_country_combo_changed">[documentos]</a>    <span class="k">def</span> <span class="nf">on_country_combo_changed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">combo</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Funcion que al selecionar un valor del combobox carguen todos los datos del cliente segun el dni selecionado</span>
<span class="sd">        :param combo:</span>
<span class="sd">        :return:</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">tree_iter</span> <span class="o">=</span> <span class="n">combo</span><span class="o">.</span><span class="n">get_active_iter</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">tree_iter</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">model</span> <span class="o">=</span> <span class="n">combo</span><span class="o">.</span><span class="n">get_model</span><span class="p">()</span>
            <span class="n">country</span> <span class="o">=</span> <span class="n">model</span><span class="p">[</span><span class="n">tree_iter</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">aux</span> <span class="o">=</span> <span class="n">country</span>

            <span class="n">bbdd</span> <span class="o">=</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;BaseClientes.dat&quot;</span><span class="p">)</span>
            <span class="n">cursor</span> <span class="o">=</span> <span class="n">bbdd</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;CREATE TABLE IF NOT EXISTS clientes</span>
<span class="s2">                                        (dni TEXT PRIMARY KEY, </span>
<span class="s2">                                         nombre TEXT NOT NULL, </span>
<span class="s2">                                         apellidos TEXT NOT NULL,</span>
<span class="s2">                                         sexo TEXT NOT NULL,</span>
<span class="s2">                                         direccion TEXT NOT NULL, </span>
<span class="s2">                                         telefono TEXT NOT NULL,</span>
<span class="s2">                                         email TEXT NOT NULL)</span>
<span class="s2">                            &quot;&quot;&quot;</span><span class="p">)</span>
                <span class="n">sql</span> <span class="o">=</span> <span class="s2">&quot;select * from clientes where dni = &#39;&quot;</span> <span class="o">+</span> <span class="n">country</span> <span class="o">+</span> <span class="s2">&quot;&#39;&quot;</span>

                <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span>

                <span class="k">for</span> <span class="n">rexistro</span> <span class="ow">in</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">():</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">entryNombreM</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="n">rexistro</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">entryApellidosM</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="n">rexistro</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
                    <span class="k">if</span><span class="p">(</span><span class="n">rexistro</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;H&quot;</span><span class="p">):</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">sexoHM</span><span class="o">.</span><span class="n">set_active</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
                    <span class="k">elif</span><span class="p">(</span><span class="n">rexistro</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;M&quot;</span><span class="p">):</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">sexoMM</span><span class="o">.</span><span class="n">set_active</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">entryDireccionM</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="n">rexistro</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">entryTelefonoM</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="n">rexistro</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">entryEmailM</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="n">rexistro</span><span class="p">[</span><span class="mi">6</span><span class="p">])</span>

            <span class="k">except</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">OperationalError</span> <span class="k">as</span> <span class="n">errorOperacion</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Se ha producido un error &quot;</span><span class="p">)</span>

            <span class="k">except</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">DatabaseError</span> <span class="k">as</span> <span class="n">errorBaseDatos</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;tratamento doutra excepcion&quot;</span><span class="p">)</span>

            <span class="k">finally</span><span class="p">:</span>
                <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span></div>
                <span class="n">bbdd</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">on_country_combo_changed2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">combo</span><span class="p">):</span>
        <span class="n">tree_iter</span> <span class="o">=</span> <span class="n">combo</span><span class="o">.</span><span class="n">get_active_iter</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">tree_iter</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">model</span> <span class="o">=</span> <span class="n">combo</span><span class="o">.</span><span class="n">get_model</span><span class="p">()</span>
            <span class="n">country</span> <span class="o">=</span> <span class="n">model</span><span class="p">[</span><span class="n">tree_iter</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">aux2</span> <span class="o">=</span> <span class="n">country</span>

<div class="viewcode-block" id="MascotasClientes.nif"><a class="viewcode-back" href="../Codigo.html#MascotasPrincipal.MascotasClientes.nif">[documentos]</a>    <span class="k">def</span> <span class="nf">nif</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nif</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Funcion para validar un dni devuelva true si es valido en el caso que no fuese valido false</span>
<span class="sd">        :param nif:</span>
<span class="sd">        :return:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tabla</span> <span class="o">=</span> <span class="s2">&quot;TRWAGMYFPDXBNJZSQVHLCKE&quot;</span>
        <span class="n">numeros</span> <span class="o">=</span> <span class="s2">&quot;1234567890&quot;</span>
        <span class="n">respuesta</span> <span class="o">=</span> <span class="s2">&quot;No ha introducido un NIF valido&quot;</span>
        <span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">nif</span><span class="p">)</span> <span class="o">==</span> <span class="mi">9</span><span class="p">):</span>
            <span class="n">letraControl</span> <span class="o">=</span> <span class="n">nif</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
            <span class="n">dni</span> <span class="o">=</span> <span class="n">nif</span><span class="p">[:</span><span class="mi">8</span><span class="p">]</span>
            <span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">dni</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">([</span><span class="n">n</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">dni</span> <span class="k">if</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">numeros</span><span class="p">])):</span>
                <span class="k">if</span> <span class="n">tabla</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">dni</span><span class="p">)</span> <span class="o">%</span> <span class="mi">23</span><span class="p">]</span> <span class="o">==</span> <span class="n">letraControl</span><span class="p">:</span>
                    <span class="k">return</span> <span class="kc">True</span></div>
        <span class="k">return</span> <span class="kc">False</span>

<div class="viewcode-block" id="MascotasClientes.on_crear_cliente"><a class="viewcode-back" href="../Codigo.html#MascotasPrincipal.MascotasClientes.on_crear_cliente">[documentos]</a>    <span class="k">def</span> <span class="nf">on_crear_cliente</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">button</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Funcion la cual recoge todos los valores del cliente llama a la base de datos y si no hay ningun valor en blanco y el dni es correcto lo inserta</span>
<span class="sd">        :param button:</span>
<span class="sd">        :return:</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">Dni</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">entryDni</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span>
        <span class="n">validar</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nif</span><span class="p">(</span><span class="n">Dni</span><span class="p">)</span>


        <span class="k">if</span> <span class="p">(</span><span class="n">validar</span> <span class="o">==</span> <span class="kc">True</span><span class="p">):</span>

            <span class="n">Nombre</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">entryNombre</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span>
            <span class="n">Apellidos</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">entryApellidos</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span>

            <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sexoH</span><span class="o">.</span><span class="n">get_active</span><span class="p">()):</span>
                <span class="n">Sexo</span> <span class="o">=</span> <span class="s2">&quot;H&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">Sexo</span> <span class="o">=</span> <span class="s2">&quot;M&quot;</span>

            <span class="n">Direccion</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">entryDireccion</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span>
            <span class="n">Telefono</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">entryTelefono</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span>
            <span class="n">Email</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">entryEmail</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span>

            <span class="k">if</span> <span class="p">(</span><span class="n">Nombre</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span> <span class="ow">and</span> <span class="n">Apellidos</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span> <span class="ow">and</span> <span class="n">Sexo</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span> <span class="ow">and</span> <span class="n">Direccion</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span> <span class="ow">and</span> <span class="n">Telefono</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span> <span class="ow">and</span> <span class="n">Email</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">):</span>

                <span class="n">bbdd</span> <span class="o">=</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;BaseClientes.dat&quot;</span><span class="p">)</span>
                <span class="n">cursor</span> <span class="o">=</span> <span class="n">bbdd</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

                <span class="k">try</span><span class="p">:</span>
                    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;CREATE TABLE IF NOT EXISTS clientes</span>
<span class="s2">                                            (dni TEXT PRIMARY KEY, </span>
<span class="s2">                                             nombre TEXT NOT NULL, </span>
<span class="s2">                                             apellidos TEXT NOT NULL,</span>
<span class="s2">                                             sexo TEXT NOT NULL,</span>
<span class="s2">                                             direccion TEXT NOT NULL, </span>
<span class="s2">                                             telefono TEXT NOT NULL,</span>
<span class="s2">                                             email TEXT NOT NULL)</span>
<span class="s2">                                &quot;&quot;&quot;</span><span class="p">)</span>

                    <span class="c1"># Crear Cliente</span>

                    <span class="n">sql</span> <span class="o">=</span> <span class="s2">&quot;INSERT INTO clientes (dni,nombre,apellidos,sexo,direccion,telefono,email) VALUES (?, ?, ?, ?, ?, ?, ?)&quot;</span>
                    <span class="n">parametros</span> <span class="o">=</span> <span class="p">(</span><span class="n">Dni</span><span class="p">,</span> <span class="n">Nombre</span><span class="p">,</span> <span class="n">Apellidos</span><span class="p">,</span> <span class="n">Sexo</span><span class="p">,</span> <span class="n">Direccion</span><span class="p">,</span> <span class="n">Telefono</span><span class="p">,</span> <span class="n">Email</span><span class="p">)</span>

                    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">,</span> <span class="n">parametros</span><span class="p">)</span>

                    <span class="n">bbdd</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

                    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;select * from clientes&quot;</span><span class="p">)</span>

                    <span class="k">for</span> <span class="n">rexistro</span> <span class="ow">in</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">():</span>
                        <span class="nb">print</span><span class="p">(</span><span class="n">rexistro</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">rexistro</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">rexistro</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">rexistro</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">rexistro</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">rexistro</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">rexistro</span><span class="p">[</span><span class="mi">6</span><span class="p">])</span>

                    <span class="bp">self</span><span class="o">.</span><span class="n">cargar_dni_cliente</span><span class="p">()</span>

                <span class="k">except</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">OperationalError</span> <span class="k">as</span> <span class="n">errorOperacion</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Se ha producido un error &quot;</span><span class="p">)</span>

                <span class="k">except</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">DatabaseError</span> <span class="k">as</span> <span class="n">errorBaseDatos</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;tratamento doutra excepcion&quot;</span><span class="p">)</span>

                <span class="k">finally</span><span class="p">:</span>
                    <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
                    <span class="n">bbdd</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">msgbox</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="s1">&#39;Faltan valores para crear un cliente&#39;</span><span class="p">,</span>
                       <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Error datos insuficientes&#39;</span><span class="p">,</span>
                       <span class="n">ok_button</span><span class="o">=</span><span class="s1">&#39;Continuar&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">msgbox</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="s1">&#39;El dni introducido no es valido&#39;</span><span class="p">,</span>
                   <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Error dni&#39;</span><span class="p">,</span></div>
                   <span class="n">ok_button</span><span class="o">=</span><span class="s1">&#39;Continuar&#39;</span><span class="p">)</span>

<div class="viewcode-block" id="MascotasClientes.on_modificar_cliente"><a class="viewcode-back" href="../Codigo.html#MascotasPrincipal.MascotasClientes.on_modificar_cliente">[documentos]</a>    <span class="k">def</span> <span class="nf">on_modificar_cliente</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">button</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Funcion la cual recoge los nuevos valores añadidos y si no estan en blanco los actualiza en la base de datos</span>
<span class="sd">        :param button:</span>
<span class="sd">        :return:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Dni</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">aux</span>
        <span class="n">Nombre</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">entryNombreM</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span>
        <span class="n">Apellidos</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">entryApellidosM</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span>

        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sexoHM</span><span class="o">.</span><span class="n">get_active</span><span class="p">()):</span>
            <span class="n">Sexo</span> <span class="o">=</span> <span class="s2">&quot;H&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">Sexo</span> <span class="o">=</span> <span class="s2">&quot;M&quot;</span>

        <span class="n">Direccion</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">entryDireccionM</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span>
        <span class="n">Telefono</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">entryTelefonoM</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span>
        <span class="n">Email</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">entryEmailM</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">Dni</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span> <span class="ow">and</span> <span class="n">Nombre</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span> <span class="ow">and</span> <span class="n">Apellidos</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span> <span class="ow">and</span> <span class="n">Sexo</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span> <span class="ow">and</span> <span class="n">Direccion</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span> <span class="ow">and</span> <span class="n">Telefono</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span> <span class="ow">and</span> <span class="n">Email</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">):</span>

            <span class="n">bbdd</span> <span class="o">=</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;BaseClientes.dat&quot;</span><span class="p">)</span>
            <span class="n">cursor</span> <span class="o">=</span> <span class="n">bbdd</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;CREATE TABLE IF NOT EXISTS clientes</span>
<span class="s2">                                        (dni TEXT PRIMARY KEY, </span>
<span class="s2">                                         nombre TEXT NOT NULL, </span>
<span class="s2">                                         apellidos TEXT NOT NULL,</span>
<span class="s2">                                         sexo TEXT NOT NULL,</span>
<span class="s2">                                         direccion TEXT NOT NULL, </span>
<span class="s2">                                         telefono TEXT NOT NULL,</span>
<span class="s2">                                         email TEXT NOT NULL)</span>
<span class="s2">                            &quot;&quot;&quot;</span><span class="p">)</span>

                <span class="n">sql</span> <span class="o">=</span> <span class="s2">&quot;UPDATE clientes SET nombre = ?, apellidos = ?, sexo = ?, direccion = ?, telefono = ?, email = ? where dni = ?&quot;</span>
                <span class="n">parametros</span> <span class="o">=</span> <span class="p">(</span><span class="n">Nombre</span><span class="p">,</span> <span class="n">Apellidos</span><span class="p">,</span> <span class="n">Sexo</span><span class="p">,</span> <span class="n">Direccion</span><span class="p">,</span> <span class="n">Telefono</span><span class="p">,</span> <span class="n">Email</span><span class="p">,</span> <span class="n">Dni</span><span class="p">)</span>

                <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">,</span> <span class="n">parametros</span><span class="p">)</span>

                <span class="n">bbdd</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

                <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;select * from clientes&quot;</span><span class="p">)</span>

                <span class="k">for</span> <span class="n">rexistro</span> <span class="ow">in</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">():</span>
                    <span class="nb">print</span><span class="p">(</span><span class="n">rexistro</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">rexistro</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">rexistro</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">rexistro</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">rexistro</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">rexistro</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">rexistro</span><span class="p">[</span><span class="mi">6</span><span class="p">])</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">cargar_dni_cliente</span><span class="p">()</span>

            <span class="k">except</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">OperationalError</span> <span class="k">as</span> <span class="n">errorOperacion</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Se ha producido un error &quot;</span><span class="p">)</span>

            <span class="k">except</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">DatabaseError</span> <span class="k">as</span> <span class="n">errorBaseDatos</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;tratamento doutra excepcion&quot;</span><span class="p">)</span>

            <span class="k">finally</span><span class="p">:</span>
                <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
                <span class="n">bbdd</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">msgbox</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="s1">&#39;Faltan valores para crear un cliente&#39;</span><span class="p">,</span>
                   <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Error datos insuficientes&#39;</span><span class="p">,</span></div>
                   <span class="n">ok_button</span><span class="o">=</span><span class="s1">&#39;Continuar&#39;</span><span class="p">)</span>

<div class="viewcode-block" id="MascotasClientes.verificacion"><a class="viewcode-back" href="../Codigo.html#MascotasPrincipal.MascotasClientes.verificacion">[documentos]</a>    <span class="k">def</span> <span class="nf">verificacion</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Funcion la cual se lanza en el momento de borrar un cliente dandote a elegir entre si u no</span>
<span class="sd">        :return:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">askyesno</span><span class="p">(</span><span class="s1">&#39;Verificar&#39;</span><span class="p">,</span> <span class="s1">&#39;¿Seguro que quiere borrar al cliente?&#39;</span><span class="p">):</span>
            <span class="n">showinfo</span><span class="p">(</span><span class="s1">&#39;Si&#39;</span><span class="p">,</span> <span class="s1">&#39;El cliente fue eliminado correctamente&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">showinfo</span><span class="p">(</span><span class="s1">&#39;No&#39;</span><span class="p">,</span> <span class="s1">&#39;Borrar fue cancelado&#39;</span><span class="p">)</span></div>
            <span class="k">return</span> <span class="kc">False</span>

<div class="viewcode-block" id="MascotasClientes.on_borrar_cliente"><a class="viewcode-back" href="../Codigo.html#MascotasPrincipal.MascotasClientes.on_borrar_cliente">[documentos]</a>    <span class="k">def</span> <span class="nf">on_borrar_cliente</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">button</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Funcion que al seleccionar el dni de un cliente te pregunta si estas seguro y si lo estas lo elimina</span>
<span class="sd">        :param button:</span>
<span class="sd">        :return:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">bbdd</span> <span class="o">=</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;BaseClientes.dat&quot;</span><span class="p">)</span>
        <span class="n">cursor</span> <span class="o">=</span> <span class="n">bbdd</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

        <span class="n">validar</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">verificacion</span><span class="p">()</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">validar</span> <span class="o">==</span> <span class="kc">True</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;CREATE TABLE IF NOT EXISTS clientes</span>
<span class="s2">                                        (dni TEXT PRIMARY KEY, </span>
<span class="s2">                                         nombre TEXT NOT NULL, </span>
<span class="s2">                                         apellidos TEXT NOT NULL,</span>
<span class="s2">                                         sexo TEXT NOT NULL,</span>
<span class="s2">                                         direccion TEXT NOT NULL, </span>
<span class="s2">                                         telefono TEXT NOT NULL,</span>
<span class="s2">                                         email TEXT NOT NULL)</span>
<span class="s2">                            &quot;&quot;&quot;</span><span class="p">)</span>

                <span class="n">sql</span> <span class="o">=</span> <span class="s2">&quot;DELETE FROM clientes where dni = &#39;&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">aux2</span> <span class="o">+</span> <span class="s2">&quot;&#39;&quot;</span>

                <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span>
                <span class="n">bbdd</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">cargar_dni_cliente</span><span class="p">()</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Eliminado&quot;</span><span class="p">)</span>

            <span class="k">except</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">OperationalError</span> <span class="k">as</span> <span class="n">errorOperacion</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Se ha producido un error &quot;</span><span class="p">)</span>

            <span class="k">except</span> <span class="n">dbapi</span><span class="o">.</span><span class="n">DatabaseError</span> <span class="k">as</span> <span class="n">errorBaseDatos</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;tratamento doutra excepcion&quot;</span><span class="p">)</span>

            <span class="k">finally</span><span class="p">:</span>
                <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span></div>
                <span class="n">bbdd</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">on_button_toggled</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">button</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">button</span><span class="o">.</span><span class="n">get_active</span><span class="p">():</span>
            <span class="n">state</span> <span class="o">=</span> <span class="s2">&quot;on&quot;</span>
        <span class="k">else</span><span class="p">:</span></div>
            <span class="n">state</span> <span class="o">=</span> <span class="s2">&quot;off&quot;</span>


<span class="n">prin</span> <span class="o">=</span> <span class="n">MascotasPrincipal</span><span class="p">()</span>
<span class="n">prin</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;delete-event&quot;</span><span class="p">,</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">main_quit</span><span class="p">)</span>
<span class="n">prin</span><span class="o">.</span><span class="n">show_all</span><span class="p">()</span>
<span class="n">Gtk</span><span class="o">.</span><span class="n">main</span><span class="p">()</span>
</pre></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3>Búsqueda rápida</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Ir a" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Índice General"
             >índice</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Índice de Módulos Python"
             >módulos</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">documentación de Mascotas - DI</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Código de módulo</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Derechos de autor 2018, Christian.
      Creado con <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.0.
    </div>
  </body>
</html>